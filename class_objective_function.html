<!-- HTML header for doxygen 1.8.16-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SuPReMo: ObjectiveFunction Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rtic.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SuPReMo
   &#160;<span id="projectnumber">0.1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_objective_function-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ObjectiveFunction Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_objective_function_8h_source.html">ObjectiveFunction.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a8632387c2687e633ab032a08f30865e7"><td class="memItemLeft" align="right" valign="top">typedef float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_objective_function.html#a8632387c2687e633ab032a08f30865e7">PrecisionType</a></td></tr>
<tr class="separator:a8632387c2687e633ab032a08f30865e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a556adaff6e05a42ff667203cfd4cc81b"><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; std::vector&lt; <a class="el" href="class_objective_function.html#a8632387c2687e633ab032a08f30865e7">PrecisionType</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_objective_function.html#a556adaff6e05a42ff667203cfd4cc81b">SurrogateSignalType</a></td></tr>
<tr class="separator:a556adaff6e05a42ff667203cfd4cc81b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a227885b9e68935571bf25d36689f029a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_objective_function.html#a227885b9e68935571bf25d36689f029a">ObjectiveFunction</a> ()</td></tr>
<tr class="separator:a227885b9e68935571bf25d36689f029a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a877b09fea55318719b9f37661ecdedf8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_objective_function.html#a877b09fea55318719b9f37661ecdedf8">~ObjectiveFunction</a> ()</td></tr>
<tr class="separator:a877b09fea55318719b9f37661ecdedf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd1caef1a086693fd087caef440bbe50"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_objective_function.html#a8632387c2687e633ab032a08f30865e7">PrecisionType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_objective_function.html#abd1caef1a086693fd087caef440bbe50">GetValue</a> (const <a class="el" href="class_objective_function.html#a8632387c2687e633ab032a08f30865e7">PrecisionType</a> *parametersIn)</td></tr>
<tr class="separator:abd1caef1a086693fd087caef440bbe50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3c06d09abda017ad7bf9e414622a245"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_objective_function.html#ae3c06d09abda017ad7bf9e414622a245">GetGradient</a> (const <a class="el" href="class_objective_function.html#a8632387c2687e633ab032a08f30865e7">PrecisionType</a> *parametersIn, <a class="el" href="class_objective_function.html#a8632387c2687e633ab032a08f30865e7">PrecisionType</a> *gradientOut, bool normaliseGradient=false)</td></tr>
<tr class="separator:ae3c06d09abda017ad7bf9e414622a245"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77f66af05d90df3b805783c456852c4e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; nifti_image * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_objective_function.html#a77f66af05d90df3b805783c456852c4e">GetGradientAsImage</a> (const <a class="el" href="class_objective_function.html#a8632387c2687e633ab032a08f30865e7">PrecisionType</a> *parametersIn, bool normaliseGradient=false)</td></tr>
<tr class="separator:a77f66af05d90df3b805783c456852c4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2265d96c96614c2227edf711fb11d13b"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_objective_function.html#a2265d96c96614c2227edf711fb11d13b">GetNumberOfParameters</a> ()</td></tr>
<tr class="separator:a2265d96c96614c2227edf711fb11d13b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b90fbf209f198ae5ffd7eec1f347ef4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_objective_function.html#a8632387c2687e633ab032a08f30865e7">PrecisionType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_objective_function.html#a6b90fbf209f198ae5ffd7eec1f347ef4">GetMaxStepSize</a> ()</td></tr>
<tr class="separator:a6b90fbf209f198ae5ffd7eec1f347ef4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a57d1149fb5e92ec87561c1e7cec453"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_objective_function.html#a6a57d1149fb5e92ec87561c1e7cec453">SetCorrespondenceModel</a> (const std::shared_ptr&lt; <a class="el" href="class_correspondence_model.html">CorrespondenceModel</a> &gt; &amp;correspondenceModelIn)</td></tr>
<tr class="separator:a6a57d1149fb5e92ec87561c1e7cec453"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa64d091206f5e0057f29b9e2afd9d79c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_objective_function.html#aa64d091206f5e0057f29b9e2afd9d79c">SetSimilarityMeasure</a> (const std::shared_ptr&lt; <a class="el" href="class_image_similarity.html">ImageSimilarity</a> &gt; &amp;imageSimilarityIn)</td></tr>
<tr class="separator:aa64d091206f5e0057f29b9e2afd9d79c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15b25cb4343f1bfb560d8e629cee3152"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_objective_function.html#a15b25cb4343f1bfb560d8e629cee3152">SetSurrogateSignals</a> (const <a class="el" href="class_objective_function.html#a556adaff6e05a42ff667203cfd4cc81b">SurrogateSignalType</a> &amp;surrSignalsIn)</td></tr>
<tr class="separator:a15b25cb4343f1bfb560d8e629cee3152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f57d2985189b540d56c34d9cedbab72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_objective_function.html#a4f57d2985189b540d56c34d9cedbab72">SetReferenceStateImage</a> (nifti_image *refStateImgIn)</td></tr>
<tr class="separator:a4f57d2985189b540d56c34d9cedbab72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97f0750d5cf73421808091aa7b06daa8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_objective_function.html#a97f0750d5cf73421808091aa7b06daa8">SetDynamicImages</a> (const std::vector&lt; nifti_image * &gt; &amp;dynamicImagesIn)</td></tr>
<tr class="separator:a97f0750d5cf73421808091aa7b06daa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0fb059a30b5fdb1127dc46ad67fd344"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_objective_function.html#ac0fb059a30b5fdb1127dc46ad67fd344">SetImageAcquisition</a> (const std::shared_ptr&lt; <a class="el" href="class_image_acquisition.html">ImageAcquisition</a> &gt; &amp;imageAcquisitionIn)</td></tr>
<tr class="separator:ac0fb059a30b5fdb1127dc46ad67fd344"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a377ce30bfd3c59c12b9343396b9397a6"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="class_correspondence_model.html">CorrespondenceModel</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_objective_function.html#a377ce30bfd3c59c12b9343396b9397a6">correspondenceModel</a></td></tr>
<tr class="memdesc:a377ce30bfd3c59c12b9343396b9397a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object that represents the correspondence model. Able to generate a transformation.  <a href="class_objective_function.html#a377ce30bfd3c59c12b9343396b9397a6">More...</a><br /></td></tr>
<tr class="separator:a377ce30bfd3c59c12b9343396b9397a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30dd2da6bba8152e10368667f5eb9fba"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="class_image_similarity.html">ImageSimilarity</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_objective_function.html#a30dd2da6bba8152e10368667f5eb9fba">imageSimilarity</a></td></tr>
<tr class="memdesc:a30dd2da6bba8152e10368667f5eb9fba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object that measures the similarity between two images.  <a href="class_objective_function.html#a30dd2da6bba8152e10368667f5eb9fba">More...</a><br /></td></tr>
<tr class="separator:a30dd2da6bba8152e10368667f5eb9fba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfa594d93a86245ef1a5a59a274357ed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_objective_function.html#a556adaff6e05a42ff667203cfd4cc81b">SurrogateSignalType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_objective_function.html#acfa594d93a86245ef1a5a59a274357ed">surrogateSignals</a></td></tr>
<tr class="memdesc:acfa594d93a86245ef1a5a59a274357ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">All surrogate signals.  <a href="class_objective_function.html#acfa594d93a86245ef1a5a59a274357ed">More...</a><br /></td></tr>
<tr class="separator:acfa594d93a86245ef1a5a59a274357ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6532f074d3474d6d9a611c173945b060"><td class="memItemLeft" align="right" valign="top">nifti_image *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_objective_function.html#a6532f074d3474d6d9a611c173945b060">referenceStateImage</a></td></tr>
<tr class="memdesc:a6532f074d3474d6d9a611c173945b060"><td class="mdescLeft">&#160;</td><td class="mdescRight">Nifti image structure with all.  <a href="class_objective_function.html#a6532f074d3474d6d9a611c173945b060">More...</a><br /></td></tr>
<tr class="separator:a6532f074d3474d6d9a611c173945b060"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2429d650ec82b7a5f283b532aa650628"><td class="memItemLeft" align="right" valign="top">std::vector&lt; nifti_image * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_objective_function.html#a2429d650ec82b7a5f283b532aa650628">dynamicImages</a></td></tr>
<tr class="memdesc:a2429d650ec82b7a5f283b532aa650628"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vector holding all pointers to the dynamic images.  <a href="class_objective_function.html#a2429d650ec82b7a5f283b532aa650628">More...</a><br /></td></tr>
<tr class="separator:a2429d650ec82b7a5f283b532aa650628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6efd487c6d0f2f30d37c4fe779c4f7b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_objective_function.html#a8632387c2687e633ab032a08f30865e7">PrecisionType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_objective_function.html#a6efd487c6d0f2f30d37c4fe779c4f7b7">similarityWeight</a></td></tr>
<tr class="memdesc:a6efd487c6d0f2f30d37c4fe779c4f7b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Similarity weight.  <a href="class_objective_function.html#a6efd487c6d0f2f30d37c4fe779c4f7b7">More...</a><br /></td></tr>
<tr class="separator:a6efd487c6d0f2f30d37c4fe779c4f7b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af887e5dabc3932078687a18270f166c1"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="class_image_acquisition.html">ImageAcquisition</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_objective_function.html#af887e5dabc3932078687a18270f166c1">imageAcquisition</a></td></tr>
<tr class="memdesc:af887e5dabc3932078687a18270f166c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The object simulating acquisition and calculating the adjoint of the image acquisition procedure.  <a href="class_objective_function.html#af887e5dabc3932078687a18270f166c1">More...</a><br /></td></tr>
<tr class="separator:af887e5dabc3932078687a18270f166c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Class to compute the objective function. The weigths of the similarity and penatly terms are computed internally. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a8632387c2687e633ab032a08f30865e7" name="a8632387c2687e633ab032a08f30865e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8632387c2687e633ab032a08f30865e7">&#9670;&#160;</a></span>PrecisionType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef float <a class="el" href="class_objective_function.html#a8632387c2687e633ab032a08f30865e7">ObjectiveFunction::PrecisionType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a556adaff6e05a42ff667203cfd4cc81b" name="a556adaff6e05a42ff667203cfd4cc81b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a556adaff6e05a42ff667203cfd4cc81b">&#9670;&#160;</a></span>SurrogateSignalType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt; std::vector&lt;<a class="el" href="class_objective_function.html#a8632387c2687e633ab032a08f30865e7">PrecisionType</a>&gt; &gt; <a class="el" href="class_objective_function.html#a556adaff6e05a42ff667203cfd4cc81b">ObjectiveFunction::SurrogateSignalType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a227885b9e68935571bf25d36689f029a" name="a227885b9e68935571bf25d36689f029a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a227885b9e68935571bf25d36689f029a">&#9670;&#160;</a></span>ObjectiveFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ObjectiveFunction::ObjectiveFunction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Constructor. </p>

</div>
</div>
<a id="a877b09fea55318719b9f37661ecdedf8" name="a877b09fea55318719b9f37661ecdedf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a877b09fea55318719b9f37661ecdedf8">&#9670;&#160;</a></span>~ObjectiveFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ObjectiveFunction::~ObjectiveFunction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae3c06d09abda017ad7bf9e414622a245" name="ae3c06d09abda017ad7bf9e414622a245"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3c06d09abda017ad7bf9e414622a245">&#9670;&#160;</a></span>GetGradient()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ObjectiveFunction::GetGradient </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_objective_function.html#a8632387c2687e633ab032a08f30865e7">PrecisionType</a> *&#160;</td>
          <td class="paramname"><em>parametersIn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_objective_function.html#a8632387c2687e633ab032a08f30865e7">PrecisionType</a> *&#160;</td>
          <td class="paramname"><em>gradientOut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>normaliseGradient</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get the gradient of the objective function for a specific set of parameters This function copies the gradienbt of the objective function to an externally allocated memory location.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parametersIn</td><td>Pointer to the parameters that will be fed into the correspondence model </td></tr>
    <tr><td class="paramname">gradientOut</td><td>Pointer to where the gradient will be written. Calling function needs to handle allocation of gradient. </td></tr>
    <tr><td class="paramname">normaliseGradient</td><td>Set to true if the gradient should be normalised with the maximum transformation length </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a77f66af05d90df3b805783c456852c4e" name="a77f66af05d90df3b805783c456852c4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77f66af05d90df3b805783c456852c4e">&#9670;&#160;</a></span>GetGradientAsImage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; nifti_image * &gt; ObjectiveFunction::GetGradientAsImage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_objective_function.html#a8632387c2687e633ab032a08f30865e7">PrecisionType</a> *&#160;</td>
          <td class="paramname"><em>parametersIn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>normaliseGradient</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Calculate the gradient for the input parameters and return an image with the gradient </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parametersIn</td><td>Pointer to the parameters that will be fed into the correspondence model </td></tr>
    <tr><td class="paramname">normaliseGradient</td><td>Set to true of the gradient should be normalised. Also see <a class="el" href="class_objective_function.html#ae3c06d09abda017ad7bf9e414622a245">GetGradient()</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6b90fbf209f198ae5ffd7eec1f347ef4" name="a6b90fbf209f198ae5ffd7eec1f347ef4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b90fbf209f198ae5ffd7eec1f347ef4">&#9670;&#160;</a></span>GetMaxStepSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_objective_function.html#a8632387c2687e633ab032a08f30865e7">ObjectiveFunction::PrecisionType</a> ObjectiveFunction::GetMaxStepSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get the maximum step size for the line-optimisation. Calcualtes the maximum step size \( l_\mathrm{max} \) from the voxel size of the reference-state image ( \( \{d_x, d_y, d_z\} \)) and the surrogate signal values \( s_i \). </p><p class="formulaDsp">
\[ l_\mathrm{max} = \frac{\max(\{d_x, d_y, d_z\})}{\max( \| s_i \| ) } \]
</p>
<p> Obsiously both, surrogate signal and reference-state image have to be set before calling this function. </p>

</div>
</div>
<a id="a2265d96c96614c2227edf711fb11d13b" name="a2265d96c96614c2227edf711fb11d13b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2265d96c96614c2227edf711fb11d13b">&#9670;&#160;</a></span>GetNumberOfParameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ObjectiveFunction::GetNumberOfParameters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get the number of parameters (degrees of freedom) of the objectve function. </p>

</div>
</div>
<a id="abd1caef1a086693fd087caef440bbe50" name="abd1caef1a086693fd087caef440bbe50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd1caef1a086693fd087caef440bbe50">&#9670;&#160;</a></span>GetValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_objective_function.html#a8632387c2687e633ab032a08f30865e7">ObjectiveFunction::PrecisionType</a> ObjectiveFunction::GetValue </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_objective_function.html#a8632387c2687e633ab032a08f30865e7">PrecisionType</a> *&#160;</td>
          <td class="paramname"><em>parametersIn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get the value of the objective function for a specific set of parameters Calculates \( \mathcal{C}_\text{total} = \sum_{t=1}^{N_i} \lambda \mathcal{S}( \mathbf{P}_t, A_t(\mathbf{T}(\mathbf{I}, \mathbf{M}_t)))
         + (1-\lambda)\mathcal{R}(\mathbf{M}_t) \) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parametersIn</td><td>Pointer to the parameters that will be fed into the correspondence model, or point \(\mathbf{R}\) in high-dimensional space for which the objective function-value will be calculated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6a57d1149fb5e92ec87561c1e7cec453" name="a6a57d1149fb5e92ec87561c1e7cec453"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a57d1149fb5e92ec87561c1e7cec453">&#9670;&#160;</a></span>SetCorrespondenceModel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ObjectiveFunction::SetCorrespondenceModel </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="class_correspondence_model.html">CorrespondenceModel</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>correspondenceModelIn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Set the correspondence model. When the correspondence model is set, the transformation is defined and the similarity and penalty term weights are updated. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">correspondenceModelIn</td><td>Pointer to the correspondence model used </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a97f0750d5cf73421808091aa7b06daa8" name="a97f0750d5cf73421808091aa7b06daa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97f0750d5cf73421808091aa7b06daa8">&#9670;&#160;</a></span>SetDynamicImages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ObjectiveFunction::SetDynamicImages </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; nifti_image * &gt; &amp;&#160;</td>
          <td class="paramname"><em>dynamicImagesIn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Set the dynamic images. Only set the resolution that is to be computed for each level. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dynamicImagesIn</td><td>Vector holding the pointer to the dynamic images. Must be of same size as surrogate signals <a class="el" href="class_objective_function.html#a15b25cb4343f1bfb560d8e629cee3152">ObjectiveFunction::SetSurrogateSignals</a>. </td></tr>
    <tr><td class="paramname">dynamicDataTypeIn</td><td>Defines the type of the dynamic data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac0fb059a30b5fdb1127dc46ad67fd344" name="ac0fb059a30b5fdb1127dc46ad67fd344"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0fb059a30b5fdb1127dc46ad67fd344">&#9670;&#160;</a></span>SetImageAcquisition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ObjectiveFunction::SetImageAcquisition </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="class_image_acquisition.html">ImageAcquisition</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>imageAcquisitionIn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Set the image acquisition object. Has to implement functionality to simulate the acquisition process and to calculate the adjoint of that process. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">imageAcquisitionIn</td><td>Shared pointer to the image acquisition object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4f57d2985189b540d56c34d9cedbab72" name="a4f57d2985189b540d56c34d9cedbab72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f57d2985189b540d56c34d9cedbab72">&#9670;&#160;</a></span>SetReferenceStateImage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ObjectiveFunction::SetReferenceStateImage </td>
          <td>(</td>
          <td class="paramtype">nifti_image *&#160;</td>
          <td class="paramname"><em>refStateImgIn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Set the current reference state image </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">refStateImgIn</td><td>Pointer to the nifti_image structure holding the reference state image </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa64d091206f5e0057f29b9e2afd9d79c" name="aa64d091206f5e0057f29b9e2afd9d79c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa64d091206f5e0057f29b9e2afd9d79c">&#9670;&#160;</a></span>SetSimilarityMeasure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ObjectiveFunction::SetSimilarityMeasure </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="class_image_similarity.html">ImageSimilarity</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>imageSimilarityIn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Set the object that measures the similarity between images. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">imageSimilarityIn</td><td>Image similarity object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a15b25cb4343f1bfb560d8e629cee3152" name="a15b25cb4343f1bfb560d8e629cee3152"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15b25cb4343f1bfb560d8e629cee3152">&#9670;&#160;</a></span>SetSurrogateSignals()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ObjectiveFunction::SetSurrogateSignals </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_objective_function.html#a556adaff6e05a42ff667203cfd4cc81b">SurrogateSignalType</a> &amp;&#160;</td>
          <td class="paramname"><em>surrSignalsIn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Set the surrogate signal To measure the objective function, all the surrogate values need to be known (and of correct size). </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a377ce30bfd3c59c12b9343396b9397a6" name="a377ce30bfd3c59c12b9343396b9397a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a377ce30bfd3c59c12b9343396b9397a6">&#9670;&#160;</a></span>correspondenceModel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="class_correspondence_model.html">CorrespondenceModel</a>&gt; ObjectiveFunction::correspondenceModel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Object that represents the correspondence model. Able to generate a transformation. </p>

</div>
</div>
<a id="a2429d650ec82b7a5f283b532aa650628" name="a2429d650ec82b7a5f283b532aa650628"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2429d650ec82b7a5f283b532aa650628">&#9670;&#160;</a></span>dynamicImages</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;nifti_image*&gt; ObjectiveFunction::dynamicImages</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Vector holding all pointers to the dynamic images. </p>

</div>
</div>
<a id="af887e5dabc3932078687a18270f166c1" name="af887e5dabc3932078687a18270f166c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af887e5dabc3932078687a18270f166c1">&#9670;&#160;</a></span>imageAcquisition</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="class_image_acquisition.html">ImageAcquisition</a>&gt; ObjectiveFunction::imageAcquisition</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The object simulating acquisition and calculating the adjoint of the image acquisition procedure. </p>

</div>
</div>
<a id="a30dd2da6bba8152e10368667f5eb9fba" name="a30dd2da6bba8152e10368667f5eb9fba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30dd2da6bba8152e10368667f5eb9fba">&#9670;&#160;</a></span>imageSimilarity</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="class_image_similarity.html">ImageSimilarity</a>&gt; ObjectiveFunction::imageSimilarity</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Object that measures the similarity between two images. </p>

</div>
</div>
<a id="a6532f074d3474d6d9a611c173945b060" name="a6532f074d3474d6d9a611c173945b060"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6532f074d3474d6d9a611c173945b060">&#9670;&#160;</a></span>referenceStateImage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">nifti_image* ObjectiveFunction::referenceStateImage</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Nifti image structure with all. </p>

</div>
</div>
<a id="a6efd487c6d0f2f30d37c4fe779c4f7b7" name="a6efd487c6d0f2f30d37c4fe779c4f7b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6efd487c6d0f2f30d37c4fe779c4f7b7">&#9670;&#160;</a></span>similarityWeight</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_objective_function.html#a8632387c2687e633ab032a08f30865e7">PrecisionType</a> ObjectiveFunction::similarityWeight</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Similarity weight. </p>
<p class="formulaDsp">
\[ 1-\lambda \]
</p>
 
</div>
</div>
<a id="acfa594d93a86245ef1a5a59a274357ed" name="acfa594d93a86245ef1a5a59a274357ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfa594d93a86245ef1a5a59a274357ed">&#9670;&#160;</a></span>surrogateSignals</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_objective_function.html#a556adaff6e05a42ff667203cfd4cc81b">SurrogateSignalType</a> ObjectiveFunction::surrogateSignals</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>All surrogate signals. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>motion-lib/<a class="el" href="_objective_function_8h_source.html">ObjectiveFunction.h</a></li>
<li>motion-lib/ObjectiveFunction.cpp</li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.16-->
<!-- start footer part -->
<div class="footer">
  <span class="credits">
    <a href="https://www.ucl.ac.uk/medical-physics-biomedical-engineering/research/research-groups/radiotherapy-image-computing-group-rtic" target="_blank">The Radiotherapy Image Computing Group,</a>
    doxygen 
    <a href="https://github.com/ZenCPP/zen-doxygen-theme" target="_blank">Zen theme</a>
    made by
    <a href="https://github.com/samvv/" target="_blank">Sam Vervaeck</a>
 </span>
  <hr class="footer"/>
  <address class="footer">
    Generated by &#160;
    <a href="http://www.doxygen.org/index.html">
      <img class="footer" src="doxygen.png" alt="doxygen"/>
    </a> 1.9.5
  </address>
</div>
</body>
</html>
